From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: GideonWhite1029 <gideonwhite1029@gmail.com>
Date: Wed, 12 Jun 2024 16:33:00 +0400
Subject: [PATCH] Stick can change ArmorStand arm status


diff --git a/src/main/java/dev/horizonmc/horizon/HorizonConfig.java b/src/main/java/dev/horizonmc/horizon/HorizonConfig.java
index fb78f1ce413c557aafa908d74e2c4136d8f9c8e2..ef0cab5678e11f5d784563f9a6a4152073cfb647 100644
--- a/src/main/java/dev/horizonmc/horizon/HorizonConfig.java
+++ b/src/main/java/dev/horizonmc/horizon/HorizonConfig.java
@@ -115,4 +115,7 @@ public final class HorizonConfig {
     @GlobalConfig(name = "redstone-wire-dont-connect-if-on-trapdoor", category = {"features"})
     public static boolean redstoneDontCantOnTrapDoor = false;
 
+    @GlobalConfig(name = "stick-change-armorstand-arm-status", category = {"utils"})
+    public static boolean stickChangeArmorStandArmStatus = false;
+
 }
\ No newline at end of file
diff --git a/src/main/java/net/minecraft/world/entity/decoration/ArmorStand.java b/src/main/java/net/minecraft/world/entity/decoration/ArmorStand.java
index ad1ec2578fa428baa6b172c44b6c17e52daa5792..7f8ce51455045f43d8e2d07b8862f233f4f1a42e 100644
--- a/src/main/java/net/minecraft/world/entity/decoration/ArmorStand.java
+++ b/src/main/java/net/minecraft/world/entity/decoration/ArmorStand.java
@@ -395,6 +395,12 @@ public class ArmorStand extends LivingEntity {
                         return InteractionResult.SUCCESS;
                     }
                 } else {
+                    // Horizon start - stick can change ArmorStand arm status
+                    if (dev.horizonmc.horizon.HorizonConfig.stickChangeArmorStandArmStatus && itemstack.is(Items.STICK) && player.isShiftKeyDown()) {
+                        setShowArms(!isShowArms());
+                    }
+                    // Horizon end - stick can change ArmorStand arm status
+
                     if (this.isDisabled(enumitemslot)) {
                         return InteractionResult.FAIL;
                     }
